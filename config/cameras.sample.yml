general:
  storage_root: /home/jetson/animaltracker/storage
  logs_root: /home/jetson/animaltracker/logs
  metrics_port: 9500
  clip:
    pre_seconds: 5
    post_seconds: 5
    format: mp4
    codec: h264
    # Post-clip analysis: re-analyze frames after recording for better species ID
    post_analysis: true          # Enable post-clip species refinement
    post_analysis_frames: 5      # Number of frames to analyze (1-20)
  # Detector backend configuration
  detector:
    # Options: "yolo" (fast, general objects) or "speciesnet" (2000+ wildlife species)
    backend: yolo
    # YOLO settings (used when backend: yolo)
    model_path: yolov8n.pt
    # SpeciesNet settings (used when backend: speciesnet)
    speciesnet_version: v4.0.2a  # v4.0.2a (crop) or v4.0.2b (full-image)
    # Location priors for better species accuracy (filters out impossible species)
    country: USA                  # ISO 3166-1 alpha-3 code (e.g., USA, CAN, GBR)
    admin1_region: MN             # State/province code (US states supported)
    latitude: 45.0105             # Camera latitude (optional, for future use)
    longitude: -93.4555           # Camera longitude (optional, for future use)
    # Tiered confidence: generic categories (animal, bird) need higher confidence
    # Specific species (cardinal, blue_jay) use camera's normal threshold
    generic_confidence: 0.9       # Threshold for generic labels (0.0-1.0)
  exclusion_list:
    - squirrel
  notification:
    pushover_app_token_env: PUSHOVER_APP_TOKEN
    pushover_user_key_env: PUSHOVER_USER_KEY
  retention:
    min_days: 7
    max_days: 30
    max_utilization_pct: 80

cameras:
  - id: cam1
    name: "Front Gate"
    location: "North Fence"
    rtsp:
      uri: "rtsp://{USERNAME}:{PASSWORD}@192.168.1.201:554/Streaming/Channels/101"
      transport: tcp
      latency_ms: 0
      hwaccel: false  # Set to true for NVDEC GPU decoding (requires GStreamer)
    onvif:
      host: 192.168.1.201
      port: 80
      profile: "Profile_1"
      username_env: CAM1_ONVIF_USER
      password_env: CAM1_ONVIF_PASS
    thresholds:
      confidence: 0.5
      min_frames: 3
    include_species:
      - deer
      - bear
    exclude_species:
      - squirrel
    notification:
      priority: 0
      sound: pushover

  - id: cam2
    name: "Creek Crossing"
    location: "South Ridge"
    rtsp:
      uri: "rtsp://{USERNAME}:{PASSWORD}@192.168.1.202:554/live"
      transport: udp
      latency_ms: 100
    onvif:
      host: 192.168.1.202
      port: 80
      profile: "main"
      username_env: CAM2_ONVIF_USER
      password_env: CAM2_ONVIF_PASS
    thresholds:
      confidence: 0.45
      min_frames: 2
    include_species:
      - coyote
      - bobcat
    exclude_species: []
    notification:
      priority: 1
      sound: siren
